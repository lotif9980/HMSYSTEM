@using System.Text.RegularExpressions

<style type="text/css">
    @@media print {
        @@page {
            size: A4 portrait;
            margin: 15mm;
        }

        body {
            margin: 0;
            padding: 0;
            -webkit-print-color-adjust: exact;
        }

        #PrescriptionPrintArea {
            width: 100%;
            max-width: 210mm;
            margin: auto;
            margin-top:50px;
        }

        .full-page-border {
            min-height: 277mm;
            border: 1px solid black !important;
            padding: 15px !important;
            box-sizing: border-box;
        }

        .shadow {
            box-shadow: none !important;
        }

        h3, h4, h5, h6, p, td, th, div, span {
            font-size: 12pt !important;
            line-height: 1.4 !important;
        }

        .row, .col-md-6, .col-md-4 {
            page-break-inside: avoid !important;
        }

        button, .btn, .no-print {
            display: none !important;
        }
    }

    /* Optional: spacing between sections */
    .section-title {
        border-bottom: 1px solid #000;
        padding-bottom: 4px;
        margin-bottom: 8px;
        margin-top: 40px;
        font-weight: bold;
        font-size: 13pt;
    }

    .info-label {
        font-weight: bold;
        width: 140px;
    }

    .info-row {
        display: flex;
        margin-bottom: 4px;
    }
</style>

<div id="PrescriptionPrintArea" class="full-page-border" style="margine-top:10px;">
    <!-- Header -->
    <div class="d-flex justify-content-between mb-3">
        <div>
            <h4>Hospital Management</h4>
            <h6>Charghat, Rajshahi</h6>
            <h6>Phone: 01791177192</h6>
        </div>
        <div class="text-center">
            <h3>Admission Form</h3>
        </div>
       <div>
            <h4>Hospital Management</h4>
            <h6>Charghat, Rajshahi</h6>
            <h6>Phone: 01791177192</h6>
        </div>
    </div>

    <!-- Admission Info -->
    <div class="section-title mt-1">Admission Information</div>
    <div class="row">
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Invoice No:</div><div>@Model.InvoiceNo</div></div>
            <div class="info-row"><div class="info-label">Admit Date:</div><div>@Model.AdmitDate?.ToString("dd MMM yyyy")</div></div>
        </div>
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Ward:</div><div>@Model.Bed.Ward.Name</div></div>
            <div class="info-row"><div class="info-label">Bed Number:</div><div>@Model.Bed.BedNumber</div></div>
        </div>
    </div>

    <!-- Patient Info -->
    <div class="section-title mt-6">Patient Information</div>
    <div class="row">
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Patient Name:</div><div>@Model.Patient.FirstName @Model.Patient.LastName</div></div>
            <div class="info-row"><div class="info-label">Phone:</div><div>@Model.Patient.Phone</div></div>
            <div class="info-row"><div class="info-label">Email:</div><div>@Model.Patient.Email</div></div>
            <div class="info-row"><div class="info-label">Address:</div><div>@Model.Patient.Address</div></div>
        </div>
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Emergency Phone:</div><div>@Model.Patient.EmergencyContact</div></div>
            <div class="info-row"><div class="info-label">Father Name:</div><div>@Model.Patient.FatherName</div></div>
            <div class="info-row"><div class="info-label">DOB:</div><div>@Model.Patient.DateOfBirth?.ToString("dd MMM yyyy")</div></div>
            <div class="info-row"><div class="info-label">Blood Group:</div><div>@Model.Patient.BloodGroup</div></div>
        </div>
    </div>

    <!-- Doctor Info -->
    <div class="section-title">Doctor Information</div>
    <div class="row">
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Admit Doctor:</div><div>@Model.Doctor.FirstName @Model.Doctor.LastName</div></div>
            <div class="info-row"><div class="info-label">Doctor Phone:</div><div>@Model.Doctor.PhoneNo</div></div>
        </div>
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Specialist:</div><div>@Model.Doctor.Specialist</div></div>
        </div>
    </div>

    <!-- Attendant Info -->
    <div class="section-title">Attendant Information</div>
    <div class="row">
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Attendant Name:</div><div>@Model.AttendentName</div></div>
            <div class="info-row"><div class="info-label">Relation:</div><div>@Model.AttendentRelation</div></div>
        </div>
        <div class="col-md-6">
            <div class="info-row"><div class="info-label">Phone Number:</div><div>@Model.AttendentPhone</div></div>
        </div>
    </div>

    <hr />
    <div>✅ I hereby declare that the information provided is true and I agree to hospital policies.</div>
    <div class="d-flex justify-content-around mt-5">
        <div><u>Patient Signature</u></div>
        <div><u>Attendant/Guardian Signature</u></div>
        <div><u>Hospital Authority</u></div>
    </div>
</div>
